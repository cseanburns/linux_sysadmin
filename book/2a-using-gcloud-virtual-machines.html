<!DOCTYPE HTML>
<html lang="en" class="light" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Using gcloud for Virtual Machines - Linux Systems Administration</title>


        <!-- Custom HTML head -->
        
        <meta name="description" content="Entry level book on Linux systems administration.">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->

    </head>
    <body class="sidebar-visible no-js">
    <div id="body-container">
        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('light')
            html.classList.add(theme);
            var body = document.querySelector('body');
            body.classList.remove('no-js')
            body.classList.add('js');
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var body = document.querySelector('body');
            var sidebar = null;
            var sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            sidebar_toggle.checked = sidebar === 'visible';
            body.classList.remove('sidebar-visible');
            body.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded "><a href="p1-linux-sysadmin.html"><strong aria-hidden="true">1.</strong> Linux Systems Administration</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="1a-history-linux-unix.html"><strong aria-hidden="true">1.1.</strong> History of Unix and Linux</a></li><li class="chapter-item expanded "><a href="1b-what-is-linux.html"><strong aria-hidden="true">1.2.</strong> What is Linux?</a></li><li class="chapter-item expanded "><a href="1c-what-is-sysadmin.html"><strong aria-hidden="true">1.3.</strong> What is Systems Administration?</a></li></ol></li><li class="chapter-item expanded "><a href="p2-project-management.html"><strong aria-hidden="true">2.</strong> Project Management</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="2a-using-gcloud-virtual-machines.html" class="active"><strong aria-hidden="true">2.1.</strong> Using gcloud for Virtual Machines</a></li><li class="chapter-item expanded "><a href="2b-using-git-github-for-documentation.html"><strong aria-hidden="true">2.2.</strong> Using Git and GitHub for Documentation</a></li></ol></li><li class="chapter-item expanded "><a href="p3-the-command-line.html"><strong aria-hidden="true">3.</strong> Learning the Command Line</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="3a-the-linux-filesystem.html"><strong aria-hidden="true">3.1.</strong> The Linux Filesystem</a></li><li class="chapter-item expanded "><a href="3b-files-and-directories.html"><strong aria-hidden="true">3.2.</strong> Files and Directories</a></li><li class="chapter-item expanded "><a href="3c-file-perms-owns.html"><strong aria-hidden="true">3.3.</strong> File Permissions and Ownership</a></li><li class="chapter-item expanded "><a href="3d-text-processing-part-1.html"><strong aria-hidden="true">3.4.</strong> Text Processing: Part 1</a></li><li class="chapter-item expanded "><a href="3e-text-processing-part-2.html"><strong aria-hidden="true">3.5.</strong> Text Processing: Part 2</a></li><li class="chapter-item expanded "><a href="3f-review.html"><strong aria-hidden="true">3.6.</strong> Review</a></li></ol></li><li class="chapter-item expanded "><a href="p4-scripting-the-command-line.html"><strong aria-hidden="true">4.</strong> Scripting the Command Line</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="4a-text-editors.html"><strong aria-hidden="true">4.1.</strong> Text Editors</a></li><li class="chapter-item expanded "><a href="4b-regular-expressions.html"><strong aria-hidden="true">4.2.</strong> Regular Expressions</a></li><li class="chapter-item expanded "><a href="4c-bash-scripting.html"><strong aria-hidden="true">4.3.</strong> Bash Scripting</a></li></ol></li><li class="chapter-item expanded "><a href="p5-managing-the-system.html"><strong aria-hidden="true">5.</strong> Managing the System</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="5a-expanding-storage.html"><strong aria-hidden="true">5.1.</strong> Expanding Storage</a></li><li class="chapter-item expanded "><a href="5b-managing-users-groups.html"><strong aria-hidden="true">5.2.</strong> Managing Users and Groups</a></li><li class="chapter-item expanded "><a href="5c-managing-software.html"><strong aria-hidden="true">5.3.</strong> Managing Software</a></li><li class="chapter-item expanded "><a href="5d-using-systemd.html"><strong aria-hidden="true">5.4.</strong> Using systemd</a></li></ol></li><li class="chapter-item expanded "><a href="p6-networking-security.html"><strong aria-hidden="true">6.</strong> Networking and Security</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="6a-networking-tcpip.html"><strong aria-hidden="true">6.1.</strong> Networking and TCP/IP</a></li><li class="chapter-item expanded "><a href="6b-dns-domain-names.html"><strong aria-hidden="true">6.2.</strong> DNS and Domain Names</a></li><li class="chapter-item expanded "><a href="6c-local-security.html"><strong aria-hidden="true">6.3.</strong> Local Security</a></li><li class="chapter-item expanded "><a href="6d-firewall-backups.html"><strong aria-hidden="true">6.4.</strong> Firewalls and Backups</a></li></ol></li><li class="chapter-item expanded "><a href="p7-creating-a-lamp-server.html"><strong aria-hidden="true">7.</strong> Creating a LAMP Server</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="7a-installing-the-apache-web-server.html"><strong aria-hidden="true">7.1.</strong> Installing the Apache Web Server</a></li><li class="chapter-item expanded "><a href="7b-installing-configuring-php.html"><strong aria-hidden="true">7.2.</strong> Installing and Configuring PHP</a></li><li class="chapter-item expanded "><a href="7c-installing-configuring-mariadb.html"><strong aria-hidden="true">7.3.</strong> Installing and Configuring MariaDB</a></li><li class="chapter-item expanded "><a href="7d-install-wordpress.html"><strong aria-hidden="true">7.4.</strong> Installing WordPress</a></li></ol></li><li class="chapter-item expanded "><a href="p8-conclusion.html"><strong aria-hidden="true">8.</strong> Conclusion</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <!-- Track and set sidebar scroll position -->
        <script>
            var sidebarScrollbox = document.querySelector('#sidebar .sidebar-scrollbox');
            sidebarScrollbox.addEventListener('click', function(e) {
                if (e.target.tagName === 'A') {
                    sessionStorage.setItem('sidebar-scroll', sidebarScrollbox.scrollTop);
                }
            }, { passive: true });
            var sidebarScrollTop = sessionStorage.getItem('sidebar-scroll');
            sessionStorage.removeItem('sidebar-scroll');
            if (sidebarScrollTop) {
                // preserve sidebar scroll position when navigating via links within sidebar
                sidebarScrollbox.scrollTop = sidebarScrollTop;
            } else {
                // scroll sidebar to current active section when navigating via "next/previous chapter" buttons
                var activeSection = document.querySelector('#sidebar .active');
                if (activeSection) {
                    activeSection.scrollIntoView({ block: 'center' });
                }
            }
        </script>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">Linux Systems Administration</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        <a href="https://github.com/cseanburns/linux_sysadmin" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="using-gcloud-for-virtual-machines"><a class="header" href="#using-gcloud-for-virtual-machines">Using gcloud for Virtual Machines</a></h1>
<p>After this section, you will be able to achieve the following outcomes:</p>
<ul>
<li><strong>Understand the concept of Virtual Machines (VMs):</strong> Learn what a VM is and how it operates on a host operating system.</li>
<li><strong>Set up a Google Cloud project using <code>gcloud</code>:</strong> Create a Google Cloud project and enable billing for it.</li>
<li><strong>Create a Virtual Machine instance:</strong> Configure and deploy a VM on Google Cloud using the Ubuntu 20.04 LTS operating system.</li>
<li><strong>Install and initialize the <code>gcloud</code> CLI:</strong> Set up the <code>gcloud</code> command interface on your local machine for managing cloud resources.</li>
<li><strong>Connect to the VM using SSH:</strong> Establish a secure connection to your VM via the command line from your local machine.</li>
<li><strong>Update and manage the VM:</strong> Perform essential updates on the VM and create snapshots for backup and recovery.</li>
</ul>
<h2 id="virtual-machines"><a class="header" href="#virtual-machines">Virtual Machines</a></h2>
<p>Our goal in this section  is to create a <strong>virtual machine (VM)</strong> <em>instance</em> running a distribution of the Linux operating system.
A VM is basically a virtualized operating system that runs on a host operating system.
That host operating system may also be Linux, but it could be Windows or macOS.
In short, when we use virtual machines,
it means instead of installing an operating system ,like Linux, macOS, Windows, etc, on a physical machine,
we use virtual machine software to mimic the process.
The virtual machine thus runs on top of our main OS.
It's like an app, where the app is a fully functioning operating system.</p>
<p>In this book, we're going to use <code>gcloud</code> (via Google) to create and run our virtual machines.
There are other options available that you can explore on your own.</p>
<h2 id="google-cloud--gcloud"><a class="header" href="#google-cloud--gcloud">Google Cloud / gcloud</a></h2>
<h3 id="google-account"><a class="header" href="#google-account">Google Account</a></h3>
<p>To create our virtual machines using <code>gcloud</code>, we need a Google account.
I imagine you already have a Google account, but if not, then create one at <a href="https://www.google.com">https://www.google.com</a>.</p>
<h3 id="google-cloud-gcloud-project"><a class="header" href="#google-cloud-gcloud-project">Google Cloud (gcloud) Project</a></h3>
<p>In the following, we will use <code>gcloud</code> to create a Google Cloud project.
Once you've created that project, we can enable billing for that project, and then install the gcloud software on personal machines.</p>
<p>To begin, you will need to visit the <code>gcloud</code> documentation that I've inserted throughout this page.
Closely follow those instructions.
I help explain the steps throughout this page.
However, it is imperative that you <strong>read through the instructions</strong> closely.</p>
<p>First, follow <strong>Step 1</strong> at the top of the  <strong><a href="https://cloud.google.com/sdk/docs/install-sdk">Install the gcloud CLI</a></strong> page to create a new project.
Also, review the page on <a href="https://cloud.google.com/resource-manager/docs/creating-managing-projects#gcloud">creating and managing projects</a>.</p>
<p>When you create your project, you can name it anything, but try to name it something to do with this project.
E.g., I might use the name <strong>sysadmin-418</strong>.
<em>Avoid using spaces when naming your project.</em></p>
<p>Click on the <strong>Create</strong> button, and leave the organization field set to <strong>No Organization</strong>.</p>
<h3 id="google-billing"><a class="header" href="#google-billing">Google Billing</a></h3>
<p>Second, set up a billing account for your gcloud project.
This means there is a cost associated with this product, but the machines we'll build require few resources and the cost should be minimal.
In the past, I usually pay about $1 per month.
<strong><a href="https://cloud.google.com/sdk/docs/install-sdk">Follow Step 2</a></strong> to enable billing for the new project.
See also the page on how to <strong><a href="https://cloud.google.com/billing/docs/how-to/manage-billing-account">create, modify, or close your self-serve Cloud Billing account</a></strong></p>
<h3 id="gcloud-vm-instance"><a class="header" href="#gcloud-vm-instance">gcloud VM Instance</a></h3>
<p>Next, log into <a href="https://console.cloud.google.com/">Google Cloud Console</a>.
This should take you to the Dashboard page.</p>
<p>Our first goal is to create a <strong>virtual machine (VM)</strong> <em>instance</em>.
As a reminder, a VM is a virtualized operating system.
We will use software to mimic the process of installing an operating system on Google's servers.</p>
<p>Google Cloud offers a number of Linux-based operating systems to create VMs.
We're going to use the Ubuntu operating system and specifically the Ubuntu 20.04 LTS version.</p>
<blockquote>
<p>What is Ubuntu?
Ubuntu is a Linux distribution.
A new version of Ubuntu is released every six months.
The 20.04 signifies that this is the April 2020 version.
LTS signifies <strong>Long Term Support</strong>.
LTS versions are released every two years,
and Canonical LTD,
the owners of Ubuntu,
provide standard support for LTS versions for five years.
Thus, Ubuntu 20.04 is supported till April 2025.</p>
<p>LTS versions of Ubuntu are more stable.
Non-LTS versions of Ubuntu only receive nine months of standard support,
and generally use cutting edge technology,
which is not always desirable for server operating systems.
Each version of Ubuntu has a code name.
20.04 has the code name <strong>Focal Fossa</strong>.
You can see a list of versions, code names, release dates,
and more on Ubuntu's <a href="https://wiki.ubuntu.com/Releases">Releases</a> page.</p>
</blockquote>
<p>We will create our VM using the Google Cloud dashboard.
To do so, follow these steps:</p>
<ul>
<li>Click the three horizontal bars at the top left of the screen.</li>
<li>Hover over the <strong>Compute Engine</strong> link, and then select <strong>VM Instances</strong>.</li>
<li>In the window, select the project that you created earlier.
<ul>
<li>E.g., for me, I used the project name <strong>sysadmin-418</strong>.</li>
</ul>
</li>
<li>Next, click on <strong>Create Instance</strong>.</li>
<li>Change the name for your <strong>instance</strong>.
<ul>
<li>E.g., I chose <strong>fall-2024</strong> (no spaces)</li>
</ul>
</li>
<li>Under the <strong>Machine Configuration</strong> section, make sure <strong>E2 (Low cost, day-to-day computing)</strong> is selected.</li>
<li>Under the <strong>Machine type</strong> drop down box, select <strong>e2-micro (0.25-2 vCPU (1 shared core), 1 GB memory)</strong>
<ul>
<li>This is the lowest cost virtual machine and perfect for our needs.</li>
</ul>
</li>
<li>Under <strong>Boot disk</strong>, click on the <strong>Change</strong> button.</li>
<li>In the window, select <strong>Ubuntu</strong> from the <strong>Operating system</strong> drop down box.</li>
<li>Select <strong>Ubuntu 20.04 LTS x86/64</strong></li>
<li>Leave <strong>Boot disk type</strong> be set to <strong>Balanced persistent disk</strong></li>
<li>Disk size should be set to <strong>10 GB</strong>.</li>
<li>Click on the <strong>Select</strong> button.</li>
<li>Check the <strong>Allow HTTP Traffic</strong> button</li>
<li>Finally, click on the <strong>Create</strong> button to create your VM instance.</li>
</ul>
<h3 id="install-the-latest-gcloud-cli-version"><a class="header" href="#install-the-latest-gcloud-cli-version">Install the latest gcloud CLI version</a></h3>
<p>The instructions above will be the same for anyone, but the following instructions will differ depending on the operating system for your local machine.</p>
<p>The next step is to install gcloud on your local machines.
This will allow us to connect to remote server using our own terminal applications.
The <strong><a href="https://cloud.google.com/sdk/docs/install-sdk">Install the gcloud CLI</a></strong> page provides instructions for different operating systems.</p>
<p>There are installation instructions for macOS, Windows, Chromebooks, and various Linux distributions.
Follow these instructions closely for the operating system that you're using.</p>
<blockquote>
<p>Note that for macOS, you have to choose among three different CPU/chip architectures.
If you have an older macOS machine (before November 2020 or so), it's likely that you'll select <strong>macOS 64-bit (x86_64)</strong>.
If you have a newer macOS machine, then it's likely you'll have to select <strong>macOS 64-bit (arm64, Apple M1 silicon).</strong>
It's unlikely that any of you are using a 32-bit macOS operating system.
If you're not sure which macOS system you have, then let me know and I can help you determine the appropriate platform.
Alternatively, follow these instructions to find your processor information:</p>
<ul>
<li>click on the Apple menu</li>
<li>choose <strong>About This Mac</strong></li>
<li>locate the <strong>Processor</strong> or <strong>Chip</strong> information</li>
</ul>
</blockquote>
<p>After you have downloaded the gcloud CLI for your particular OS and CPU architecture,
you will need to open a command prompt/terminal on your machines to complete the instructions that describe how to install the gcloud CLI.
macOS uses the Terminal app, which can be located using Spotlight.
Windows users can use Powershell.</p>
<h3 id="windows-users"><a class="header" href="#windows-users">Windows Users</a></h3>
<p>Windows users will download a regular <strong>.exe</strong> file, and launch the installer in the regular Windows way.
Please follow the rest of the instructions for Windows.</p>
<h3 id="macos-users"><a class="header" href="#macos-users">macOS Users</a></h3>
<p><strong>macOS</strong> users may need to complete some setup work before installing Google Cloud.
First, open your Terminal.app and run the following code:</p>
<pre><code>xcode-select --install
</code></pre>
<p>Once the Xcode developer tools are installed, you need to install the macOS Homebrew package manager.
To do so, follow the instructions here:</p>
<p><a href="https://brew.sh/">Homebrew</a></p>
<p>After Homebrew is installed use the <code>brew</code> command to install <a href="https://github.com/pyenv/pyenv">pyenv</a>.</p>
<pre><code>brew install pyenv
</code></pre>
<p>And then use <code>pyenv</code> to install the latest version of Python.
For example, to install the <a href="https://www.python.org/">latest release of Python</a> (as of August 2024):</p>
<pre><code>penv install 3.12.5
</code></pre>
<p>Finally, you can install the Google Cloud application using the steps outlined below.
Or you can use the steps outlined in the <a href="https://cloud.google.com/sdk/docs/downloads-interactive#linux-mac">Google Cloud Interactive installation</a>.</p>
<p>See also:</p>
<p><a href="https://cloud.google.com/python/docs/setup">Setting up a Python development environment</a></p>
<h4 id="macos-gcloud-install"><a class="header" href="#macos-gcloud-install">macOS gcloud Install</a></h4>
<p>macOS users will download a <strong>.tar.gz</strong> file and extract the <strong>.tar.gz</strong> using the <code>tar</code> command.
The <strong>.tar.gz</strong> file may have been downloaded to your <strong>Downloads</strong> folder.
First, in your Terminal.app, move that file to your home directory and extract it there.
Once extracted, change to home directory with the <code>cd</code> command.
For example, if you are running macOS and downloaded the X86_64 version of the gcloud CLI, then open your Terminal.app and run the following commands:</p>
<pre><code>mv ~/Downloads/google-cloud-cli-darwin-x86_64.tar.gz $HOME
cd $HOME
tar -xzf google-cloud-cli-444.0.0-darwin-x86_64.tar.gz 
cd google-cloud-sdk
</code></pre>
<p>Modify the file names in the commands above, as appropriate, if you're using the M1 version of the gcloud CLI.</p>
<h3 id="initializing-the-gcloud-cli"><a class="header" href="#initializing-the-gcloud-cli">Initializing the gcloud CLI</a></h3>
<p>Regardless if you're using macOS or Windows, you will now initialize your Google Cloud installation the same way.
First, scroll down the install page to the section titled <a href="https://cloud.google.com/sdk/docs/install-sdk#initializing_the"><strong>Initializing the gcloud CLI</strong></a>.
In your terminal, run the initialization command.
Per the instructions at the above page, it should be something like so:</p>
<pre><code>gcloud init
</code></pre>
<p>And continue to follow the instructions in the documentation.</p>
<h2 id="connect-to-our-vm"><a class="header" href="#connect-to-our-vm">Connect to our VM</a></h2>
<p>After the new VM machine has been created, you connect to it via the command line.
macOS users will connect to it via their Terminal.app.
Windows users can connect to it via their command prompt or use <a href="https://cloud.google.com/compute/docs/connect/standard-ssh#putty-app">PuTTY</a>.</p>
<p>If you have used <code>ssh</code> before, note that we use a slightly different <code>ssh</code> command to connect to our VMs.
The syntax follows this pattern:</p>
<pre><code>gcloud compute ssh --zone "zone-info" "name-info" --project "project-id"
</code></pre>
<p>You need to replace the values in the double quotes in the above command
with the values located in your Google Cloud console and
in your VM instances section.</p>
<p>You can select the <strong>SSH</strong> drop down box to copy the exact <code>gcloud</code> command to connect to your server.</p>
<h2 id="update-our-ubuntu-vm"><a class="header" href="#update-our-ubuntu-vm">Update our Ubuntu VM</a></h2>
<p>The above command will connect you to the remote Linux virtual machine server.
The VM will include a recently updated version of Ubuntu 20.04, but it may not be completely updated.
Thus the first thing we need to do is update our machines.
Since this is an Ubuntu machine, use the following two commands to update your machines:</p>
<pre><code>sudo apt update
sudo apt -y upgrade
</code></pre>
<p>Then reboot the server with the following command:</p>
<pre><code>sudo reboot
</code></pre>
<blockquote>
<p>You do not always have to reboot when updating your server.
It is only necessary when there has been a kernel update.
I'm assuming that when we update these machines for the first time after installation,
that there will have been a kernel update.</p>
</blockquote>
<p>If you reboot your server, you will automatically be disconnected from it.
If you do not need to reboot your server, then type <code>exit</code> to logout and quit the connection to the remote server.</p>
<pre><code>exit
</code></pre>
<p>Typing <code>exit</code> at the prompt will always close our connection to our remote servers.</p>
<h2 id="snapshots"><a class="header" href="#snapshots">Snapshots</a></h2>
<p>You have installed a pristine version of Ubuntu, but mistakes will happen while learning how to use your machines.
If you want, you can backup this pristine version of the operating system.
This will allow you to restore the server if something goes wrong later.</p>
<p><strong>NOTE:</strong> It's pretty easy to create a new VM instance.
Therefore, it's okay to create snapshots later when you are working on your projects.
This will reduce costs until needed.</p>
<p>To get started:</p>
<ol>
<li>In the left hand navigation panel, click <strong>Compute Engine</strong> and then <strong>Snapshots</strong>.</li>
<li>At the top of the page, click on <strong>Create Snapshot</strong>.</li>
<li>Provide a name for your snapshot: e.g., <strong>ubuntu-1</strong>.</li>
<li>Provide a description of your snapshot: e.g., <strong>This is a new install of Ubuntu 20.04.</strong></li>
<li>Choose your <strong>Source disk</strong>.</li>
<li>Choose a <strong>Location</strong> to store your snapshot.
<ul>
<li>To avoid extra charges, choose <strong>Regional</strong>.</li>
<li>From the drop down box, select the same location (zone-info) your VM has</li>
</ul>
</li>
<li>Click on <strong>Create</strong></li>
</ol>
<p><strong><p style="color:red">Please monitor your billing for this to avoid costs
that you do not want to incur.</p></strong></p>
<h2 id="conclusion"><a class="header" href="#conclusion">Conclusion</a></h2>
<p>Congrats!
You have successfully completed your first Linux server installation using <code>gcloud</code>.
In this section, you learned about virtual machines (VMs) and created one using Google Cloud.
Specifically, you created a Ubuntu 20.04 LTS Linux virtual machine.
While this may seem like a lot of information, by the end of this book you will be able to effortlessly deploy and manage VMs for various tasks.
Such tasks may include setting up websites and more.</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="p2-project-management.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next prefetch" href="2b-using-git-github-for-documentation.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="p2-project-management.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next prefetch" href="2b-using-git-github-for-documentation.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="elasticlunr.min.js"></script>
        <script src="mark.min.js"></script>
        <script src="searcher.js"></script>

        <script src="clipboard.min.js"></script>
        <script src="highlight.js"></script>
        <script src="book.js"></script>

        <!-- Custom JS scripts -->


    </div>
    </body>
</html>
